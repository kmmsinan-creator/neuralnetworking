<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Titanic Survivors' Tales â€” EDA Dashboard</title>

<!-- Client-side libs -->
<link rel="preconnect" href="https://cdn.jsdelivr.net" />
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

<style>
:root{
  --bg:#800000;          /* maroon base */
  --bg-2:#5a0000;        /* darker maroon */
  --panel:#660000;       /* panel background */
  --ink:#f8e9e9;         /* text color (light rose) */
  --muted:#d4a5a5;       /* muted text */
  --brand:#ff9999;       /* accent 1 (soft pink) */
  --brand-2:#ff4d4d;     /* accent 2 (red-rose) */
  --ring:rgba(255,153,153,.35);
  --card:rgba(255,255,255,.06);
  --soft:rgba(255,255,255,.08);
  --shadow:0 14px 35px rgba(0,0,0,.45);
}
*{box-sizing:border-box;margin:0;padding:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
body{
  min-height:100vh;
  background: var(--bg);  /* solid maroon background */
  color:var(--ink);
  padding:28px
}
.container{max-width:1200px;margin:0 auto}

.header{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:18px}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:42px;height:42px;border-radius:12px;background:linear-gradient(135deg,var(--brand),var(--brand-2));box-shadow:var(--shadow)}
.title h1{font-size:clamp(1.6rem,2.4vw,2.1rem);line-height:1.1}
.title p{color:var(--muted);margin-top:6px}

.toolbar{display:flex;align-items:center;gap:10px}
select,button{background:rgba(255,255,255,.06);color:var(--ink);border:1px solid rgba(255,255,255,.16);padding:8px 10px;border-radius:10px;cursor:pointer}
button:focus,select:focus{outline:none;box-shadow:0 0 0 3px var(--ring)}

.panel{background:linear-gradient(180deg,var(--panel),var(--bg-2));border:1px solid rgba(255,255,255,.08);border-radius:20px;box-shadow:var(--shadow);padding:18px}
.grid{display:grid;gap:14px}
.cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}
.cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}
@media(max-width:900px){.cols-3,.cols-2{grid-template-columns:1fr}}

.kpi{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:14px 16px;transition:.25s}
.kpi:hover{transform:translateY(-3px);border-color:rgba(255,153,153,.45)}
.kpi .label{color:var(--muted);font-size:.9rem}
.kpi .value{font-size:1.7rem;font-weight:800;margin-top:6px;background:linear-gradient(90deg,var(--brand),var(--brand-2));-webkit-background-clip:text;background-clip:text;color:transparent}

.pills{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
.pill{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;background:rgba(255,77,77,.12);border:1px solid rgba(255,77,77,.28);font-size:.95rem}
.badge{font-size:.85rem;color:var(--muted)}

.card{background:var(--soft);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:14px;box-shadow:var(--shadow)}
.card h3{font-size:1.05rem;margin-bottom:8px}
.chart{position:relative;height:270px}

.section{display:flex;align-items:center;justify-content:space-between;margin:18px 0 8px}
.section h2{font-size:1.2rem}
hr.sep{border:none;height:1px;background:linear-gradient(90deg,rgba(255,255,255,.06),rgba(255,255,255,.25),rgba(255,255,255,.06));margin:16px 0}

.footer{text-align:center;color:var(--muted);margin-top:22px;font-size:.9rem}
</style>
</head>
<body>
  <div class="container">
    <!-- (same HTML content as before) -->
    <!-- No changes needed inside body except style updates above -->
  </div>

<script>
const CSV_URL = 'train.csv'; // adjust to 'data/train.csv' if you move it

// Utilities (same as before)...

// Chart helper (with maroon dataset colors)
function drawChart(ctx, type, labels, data, title){
  return new Chart(ctx, {
    type,
    data: { 
      labels, 
      datasets: [{
        label:title, 
        data, 
        borderWidth:2, 
        fill:type==='line'?false:true, 
        tension:0.2,
        backgroundColor:['#ffcc66','#ff9999','#66e0ff','#d9b3ff','#ffb366'],
        borderColor:'#fff8f0'  // light ivory borders for contrast
      }]
    },
    options: {
      responsive:true, maintainAspectRatio:false,
      plugins:{ 
        legend:{labels:{color:'#fff8f0'}}, 
        title:{display:true,text:title,color:'#fff8f0'} 
      },
      scales:(type==='pie'||type==='doughnut')?{}:{
        y:{ beginAtZero:true, ticks:{ callback:v=>v+'%', color:'#fff8f0' } },
        x:{ ticks:{ color:'#fff8f0' } }
      }
    }
  });
}

</script>
</body>
</html>
