<!-- index.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>GRU Stock Predictor (TF.js ESM)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- NOTE: Do NOT include a global TensorFlow.js <script> tag when using ESM imports inside modules.
       Including the non-ESM tf script can cause `tf` to be unavailable inside modules (and produce
       "tf.tensor3d is not a function"). The modules import tf.esm.js themselves. -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; margin: 18px; }
    .controls { display:flex; gap:8px; align-items:center; margin-bottom:8px; }
    #accuracyChart { width:100%; max-width:900px; margin-top:12px; }
    #timelineArea { margin-top:12px; display:flex; flex-direction:column; gap:8px; }
    textarea#logArea { width:100%; height:120px; margin-top:12px; }
    button { padding:6px 10px; }
  </style>
</head>
<body>
  <h2>GRU Stock Predictor (TF.js - ESM modules)</h2>
  <div class="controls">
    <input id="csvFile" type="file" accept=".csv" />
    <button id="btnLoad">Load CSV</button>
    <button id="btnTrain" disabled>Train Model</button>
    <button id="btnSave">Save Model</button>
    <button id="btnLoadModel">Load Model</button>
    <div id="progress" style="margin-left:12px;font-weight:600">Idle</div>
  </div>

  <div id="accuracyChart"></div>

  <h3>Per-stock timelines</h3>
  <div id="timelineArea"></div>

  <h3>Logs</h3>
  <textarea id="logArea" readonly></textarea>

  <!-- Load main module -->
  <script type="module" src="./app.js"></script>
</body>
</html>
